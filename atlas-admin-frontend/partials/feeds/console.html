<div class="app-surface feedsConsole">
    <header class="app-header">
        <h1 class="page-title">{{view_title}}</h1>
        <div class="breadcrumb">
            <a class="crumb" href="#/">Atlas</a>
            <a class="crumb" href="#/feeds/">Feeds</a>
            <span class="crumb">Youview</span>
        </div>
        <div class="overall-stats">
            <h2 class="">Overall stats</h2>
            <div class="stats-field">
                <span class="stats-label">Queue size</span>
                <span class="stats-data">{{statistics.queue_size}}</span>
            </div>
            <div class="stats-field">
                <span class="stats-label">Latency</span>
                <span class="stats-data">{{statistics.update_latency.i_millis/10000}}ms</span>
            </div>
            <div class="stats-field">
                <span class="stats-label">Uptime</span>
                <span class="stats-data">{{statistics.uptime}}days</span>
            </div>
        </div>
        <div ng-show="error.show">
            {{error.obj.message}}
        </div>
    </header>

    <section class="panel-full console">
        <div class="transactions-table">
            <table class="table">
                <thead>
                    <tr class="filter-bar">
                        <th>
                            <input placeholder="Filter by Content URI" ng-model="search.content" class="search-cell" type="text">
                        </th>
                        <th>
                            <input placeholder="Filter by Transaction ID" ng-model="search.id" class="search-cell" type="text">
                        </th>
                        <th></th>
                        <th>
                            <select ng-model="search.status" placeholder="Filter by Status" class="search-cell">
                                <option ng-selected value="">Filter by status</option>
                                <option value="ACCEPTED">Accepted</option>
                                <option value="FAILED">Failed</option>
                            </select>
                        </th>
                    </tr>
                    <tr>
                        <th class="sortable" ng-click="table.order='content[0]'; table.reverse=!table.reverse">Content URI</th>
                        <th class="sortable" ng-click="table.order='id'; table.reverse=!table.reverse">Transaction ID</th>
                        <th class="sortable"  ng-click="table.order='upload_time'; table.reverse=!table.reverse">Upload time</th>
                        <th class="sortable" ng-click="table.order='status'; table.reverse=!table.reverse">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="transaction in transactions | filter:search | orderBy:table.order:table.reverse">
                        <td><a ng-href="#/feeds/youview/{{transaction.id}}">{{transaction.content[0]}}</a></td>
                        <td><a ng-href="#/feeds/youview/{{transaction.id}}">{{transaction.id}}</a></td>
                        <td><a ng-href="#/feeds/youview/{{transaction.id}}">{{transaction.upload_time}}</a></td>
                        <td><a ng-href="#/feeds/youview/{{transaction.id}}">{{transaction.status}}</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>

