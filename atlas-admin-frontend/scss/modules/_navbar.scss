//	The global navbar
//
$navbar-height: 5.06rem;
$navbar-color: #EEEEEE;
$navbar-shadow-color: rgba( red($color-purple), green($color-purple), blue($color-purple), .4);

.navbar {
	@extend %cf;
	box-sizing: border-box;
	display: block;
	width: 100%;
	height: $navbar-height;
	background: $navbar-color;
	color: $primary-text-color;
	border-bottom: 1px solid $color-pink;
	box-shadow: 0 1px 2px $navbar-shadow-color;
}

// atlas logo
.navbar-brand {
	@extend %cf;
	display: block;
	float: left;	
	margin-left: 2.25rem;
	
	> a { display: inline-block; height: $navbar-height; line-height: $navbar-height; }
	> a img { display: inline-block; margin: .8rem 0 0 0; }
}

// main navigation list
.navbar-links {
	@extend %cf;
	display: block;
	float: left;
	margin-left: 2.25rem;

	ul {
		@extend %bare-list;
		height: $navbar-height;
		float: left;
		
		> li {
			display: block;
			float: left;
			height: $navbar-height;
			line-height: $navbar-height;
		}

		> li a {
			display: block;
			height: $navbar-height;
			color: $primary-text-color;
			font-size: 1.125rem;
			text-decoration: none;
			text-transform: lowercase;
			transition: all 100ms ease;
			
			&:hover { color: $color-pink; }
		}

		.menu-button {
			display: inline-block;
			height: 3.375rem;
			padding: 0 1rem;
			vertical-align: bottom;
			line-height: 3.375rem;
		}

		> li a.active-menu-item { color: $primary-text-color; }
		> li a.active-menu-item .menu-button {
			position: relative;
			color: $color-pink;
			&:after {
				content: "";
				position: absolute;
				bottom: 0;
				left: 50%;
				display: block;
				margin-left: -8px;
				border-left: 8px solid transparent;
				border-right: 8px solid transparent;
				border-bottom: 8px solid $color-pink;
			}
		}

	}

	// For the admin management dropdown nav
	.nav-manage { 
		position: relative;
		margin-left: 2.25rem;
	
		> .menu-button { 
			cursor: pointer;

				&:before {
					content: "";
					display: block;
					position: absolute;
					bottom: 1.5rem;
					right: 0;
					border-left: 4px solid transparent;
					border-right: 4px solid transparent;
					border-top: 6px solid darken($navbar-color, 40%);
				}
		}

		.admin-menu {
			@extend %cf;
			position: absolute;
			top: 100%;
			left: 0;
			z-index: 1039;
			display: block;
			height: auto;
			width: 300px;
			background: white;
			box-shadow: 0 1px 2px $navbar-shadow-color;

			li { float: none; }

			li > a {
				color: white;
				background: $color-pink;

				.menu-button { box-sizing: border-box; width: 100%; }

				&:hover { background: $color-purple }

				&.active-menu-item .menu-button {
					color: white;
					background: $color-purple;
					&::after { display: none; }
				}
			}

			li, 
			li a {
				display: block;
				height: auto;
				line-height: 1.4;
			}
		}
	}
}

// the user avatar and prefs menu 
//
.navbar-user {
	position: relative;
	display: block;
	float: right;
	padding-right: 3rem;
	height: $navbar-height;
	cursor: pointer;

	&:before {
		content: "";
		display: block;
		position: absolute;
		top: 36px;
		right: 1rem;
		border-left: 6px solid transparent;
		border-right: 6px solid transparent;
		border-top: 6px solid $color-pink;
	}

	.user-avatar { display: block; }
	
	.profile-picture {
		display: inline-block;
		width: 3.365rem;
		height: 3.375rem;
		margin: .8rem 0 0;
		border-radius: 50%;
		float: right;
	}

	.user-name {
		display: block;
		float: left;
		height: $navbar-height;
		margin-right: 1rem;
		line-height: $navbar-height;
		transition: all 100ms ease;
	}

	&:hover .user-name { color: $color-pink; }
}

ul.user-dropdown-menu {
	@extend %bare-list;
	position: absolute;
	z-index: 200;
	top: 90%;
	right: 1rem;
	box-sizing: border-box;
	width: 11.4rem;
	padding: 1rem;
	line-height: 2.25rem;
	background: $navbar-color;
	border: 1px solid $color-pink;
	box-shadow: 0 1px 10px rgba(0,0,0,0.2);
	border-radius: 4px;

	> li {
		display: block;
		text-align: right;

		a { display: block; text-decoration: none; transition: all 100ms ease; }
		a:hover { color: $color-pink; }
	}
}